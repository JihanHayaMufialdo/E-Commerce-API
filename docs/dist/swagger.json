{
  "openapi": "3.0.0",
  "info": {
    "title": "E-Commerce Mock API",
    "version": "1.0.0",
    "description": "Mock API for testing via Swagger UI (GitHub Pages). All endpoints return simulated responses without a backend."
  },
  "servers": [
    {
      "url": "https://jihanhayamufialdo.github.io"
    }
  ],
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "schemas": {
      "Role": {
        "type": "string",
        "enum": [
          "USER",
          "ADMIN"
        ]
      },
      "OrderStatus": {
        "type": "string",
        "enum": [
          "PENDING",
          "PAID",
          "SHIPPED",
          "DELIVERED",
          "CANCELLED"
        ]
      },
      "User": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "userName": {
            "type": "string"
          },
          "userEmail": {
            "type": "string",
            "format": "email"
          },
          "userPassword": {
            "type": "string",
            "description": "Hashed password"
          },
          "userRole": {
            "$ref": "#/components/schemas/Role"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "Product": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "productName": {
            "type": "string"
          },
          "productPrice": {
            "type": "integer"
          },
          "productStock": {
            "type": "integer"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "Cart": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "userId": {
            "type": "string",
            "format": "uuid"
          },
          "cartItems": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CartItem"
            }
          }
        }
      },
      "CartItem": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "cartItemQuantity": {
            "type": "integer"
          },
          "productId": {
            "type": "integer"
          },
          "cartId": {
            "type": "integer"
          }
        }
      },
      "Order": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "orderDate": {
            "type": "string",
            "format": "date-time"
          },
          "orderAmount": {
            "type": "integer"
          },
          "orderStatus": {
            "$ref": "#/components/schemas/OrderStatus"
          },
          "userId": {
            "type": "string",
            "format": "uuid"
          },
          "orderItems": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/OrderItem"
            }
          },
          "payments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Payment"
            }
          }
        }
      },
      "OrderItem": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "orderItemQuantity": {
            "type": "integer"
          },
          "productId": {
            "type": "integer"
          },
          "orderId": {
            "type": "string",
            "format": "uuid"
          }
        }
      },
      "Payment": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "paymentDate": {
            "type": "string",
            "format": "date-time"
          },
          "orderId": {
            "type": "string",
            "format": "uuid"
          }
        }
      }
    }
  },
  "paths": {
    "/register": {
      "post": {
        "summary": "User register",
        "description": "Simulates user registration.",
        "tags": ["Auth"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "userName": { "type": "string", "example": "John Doe" },
                  "userEmail": { "type": "string", "example": "john@example.com" },
                  "userPassword": { "type": "string", "example": "password123" }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "User registered",
            "content": {
              "application/json": {
                "example": {
                  "message": "User registered successfully",
                  "userId": 1
                }
              }
            }
          }
        }
      }
    },
    "/login": {
      "post": {
        "summary": "User login",
        "description": "Simulates login and returns a fake token.",
        "tags": ["Auth"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "userEmail": { "type": "string", "example": "user@shop.com" },
                  "userPassword": { "type": "string", "example": "password123" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login success",
            "content": {
              "application/json": {
                "example": {
                  "token": "fake-jwt-token-123"
                }
              }
            }
          }
        }
      }
    },
    "/admin/login": {
      "post": {
        "summary": "Admin login",
        "description": "Simulates admin login.",
        "tags": ["Auth"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "userEmail": { "type": "string", "example": "admin@example.com" },
                  "userPassword": { "type": "string", "example": "password123" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login success",
            "content": {
              "application/json": {
                "example": {
                  "token": "fake-admin-token-456"
                }
              }
            }
          }
        }
      }
    },
    "/cart": {
      "get": {
        "summary": "Get user's cart",
        "description": "Retrieve cart items.",
        "tags": ["Carts"],
        "responses": {
          "200": {
            "description": "Cart retrieved",
            "content": {
              "application/json": {
                "example": {
                  "items": [
                    { "id": 1, "productId": 2, "cartItemQuantity": 3 }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/cart/items": {
      "post": {
        "summary": "Add item to cart",
        "description": "Simulates adding product to cart.",
        "tags": ["Carts"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "productId": { "type": "integer", "example": 1 },
                  "cartItemQuantity": { "type": "integer", "example": 2 }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Item added",
            "content": {
              "application/json": {
                "example": {
                  "message": "Item added to cart",
                  "cartItemId": 10
                }
              }
            }
          }
        }
      }
    },
    "/cart/items/{id}": {
      "put": {
        "summary": "Update cart item",
        "tags": ["Carts"],
        "parameters": [
          { "in": "path", "name": "id", "required": true, "schema": { "type": "integer" } }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "cartItemQuantity": { "type": "integer", "example": 5 }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Updated",
            "content": {
              "application/json": {
                "example": { "message": "Cart item updated" }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete cart item",
        "tags": ["Carts"],
        "parameters": [
          { "in": "path", "name": "id", "required": true, "schema": { "type": "integer" } }
        ],
        "responses": {
          "200": {
            "description": "Deleted",
            "content": {
              "application/json": {
                "example": { "message": "Cart item deleted" }
              }
            }
          }
        }
      }
    },
    "/orders": {
      "get": {
        "summary": "Get active orders",
        "tags": ["Orders"],
        "responses": {
          "200": {
            "description": "Orders retrieved",
            "content": {
              "application/json": {
                "example": [
                  { "id": 1, "status": "PENDING", "total": 200000 }
                ]
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create order",
        "tags": ["Orders"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "orderItems": {
                    "type": "array",
                    "items": {
                      "properties": {
                        "productId": { "type": "integer" },
                        "orderItemQuantity": { "type": "integer" }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Order created",
            "content": {
              "application/json": {
                "example": {
                  "message": "Order created",
                  "orderId": 99
                }
              }
            }
          }
        }
      }
    },
    "/orders/history": {
      "get": {
        "summary": "Get order history",
        "tags": ["Orders"],
        "responses": {
          "200": {
            "description": "History retrieved",
            "content": {
              "application/json": {
                "example": [
                  { "id": 2, "status": "DELIVERED", "total": 500000 }
                ]
              }
            }
          }
        }
      }
    },
    "/orders/{id}/status": {
      "put": {
        "summary": "Update order status",
        "tags": ["Orders"],
        "parameters": [
          { "in": "path", "name": "id", "required": true, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "Updated",
            "content": {
              "application/json": {
                "example": { "message": "Order marked as DELIVERED" }
              }
            }
          }
        }
      }
    },
    "/orders/{id}/cancel": {
      "delete": {
        "summary": "Cancel order",
        "tags": ["Orders"],
        "parameters": [
          { "in": "path", "name": "id", "required": true, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "Cancelled",
            "content": {
              "application/json": {
                "example": { "message": "Order cancelled successfully" }
              }
            }
          }
        }
      }
    },
    "/admin/orders": {
      "get": {
        "summary": "Get all orders",
        "tags": ["Admin-Orders"],
        "responses": {
          "200": {
            "description": "All orders retrieved",
            "content": {
              "application/json": {
                "example": [
                  { "id": 1, "userId": 5, "status": "PAID" }
                ]
              }
            }
          }
        }
      }
    },
    "/admin/users/{userId}/orders": {
      "get": {
        "summary": "Get user orders",
        "tags": ["Admin-Orders"],
        "parameters": [
          { "in": "path", "name": "userId", "required": true, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "Orders retrieved",
            "content": {
              "application/json": {
                "example": [
                  { "orderId": 10, "status": "SHIPPED" }
                ]
              }
            }
          }
        }
      }
    },
    "/admin/users/{userId}/orders/{orderId}": {
      "get": {
        "summary": "Get order items",
        "tags": ["Admin-Orders"],
        "parameters": [
          { "in": "path", "name": "userId", "required": true, "schema": { "type": "string" } },
          { "in": "path", "name": "orderId", "required": true, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "Order items retrieved",
            "content": {
              "application/json": {
                "example": [
                  { "productId": 1, "quantity": 2 }
                ]
              }
            }
          }
        }
      }
    },
    "/admin/users/{userId}/orders/{orderId}/status": {
      "put": {
        "summary": "Update to SHIPPED",
        "tags": ["Admin-Orders"],
        "parameters": [
          { "in": "path", "name": "userId", "required": true, "schema": { "type": "string" } },
          { "in": "path", "name": "orderId", "required": true, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "Updated",
            "content": {
              "application/json": {
                "example": { "message": "Order status updated to SHIPPED" }
              }
            }
          }
        }
      }
    },
    "/orders/{id}/payment": {
      "post": {
        "summary": "Create payment",
        "tags": ["Orders"],
        "parameters": [
          { "in": "path", "name": "id", "required": true, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "Payment created",
            "content": {
              "application/json": {
                "example": {
                  "message": "Payment token created",
                  "redirect_url": "https://sandbox.mockpay.com/checkout",
                  "token": "mock-token-123"
                }
              }
            }
          }
        }
      }
    },
    "/products": {
      "get": {
        "summary": "Get all products",
        "tags": ["Products"],
        "responses": {
          "200": {
            "description": "Products retrieved",
            "content": {
              "application/json": {
                "example": [
                  { "id": 1, "name": "Apple iPhone 17", "price": 23000000 }
                ]
              }
            }
          }
        }
      }
    },
    "/admin/products": {
      "get": {
        "summary": "Get all products (admin)",
        "tags": ["Admin-Products"],
        "responses": {
          "200": {
            "description": "Products retrieved",
            "content": {
              "application/json": {
                "example": [
                  { "id": 1, "name": "Apple iPhone 17", "stock": 10 }
                ]
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create product",
        "tags": ["Admin-Products"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "productName": { "type": "string" },
                  "productPrice": { "type": "integer" },
                  "productStock": { "type": "integer" }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Product created",
            "content": {
              "application/json": {
                "example": {
                  "message": "Product created",
                  "productId": 7
                }
              }
            }
          }
        }
      }
    },
    "/admin/products/{id}": {
      "put": {
        "summary": "Update product",
        "tags": ["Admin-Products"],
        "parameters": [
          { "in": "path", "name": "id", "required": true, "schema": { "type": "integer" } }
        ],
        "responses": {
          "200": {
            "description": "Updated",
            "content": {
              "application/json": {
                "example": { "message": "Product updated" }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete product",
        "tags": ["Admin-Products"],
        "parameters": [
          { "in": "path", "name": "id", "required": true, "schema": { "type": "integer" } }
        ],
        "responses": {
          "200": {
            "description": "Deleted",
            "content": {
              "application/json": {
                "example": { "message": "Product deleted" }
              }
            }
          }
        }
      }
    },
    "/admin/users": {
      "get": {
        "summary": "Get users (mock)",
        "tags": ["Users"],
        "responses": {
          "200": {
            "description": "Users retrieved",
            "content": {
              "application/json": {
                "example": [
                  { "id": 1, "email": "user@example.com" },
                  { "id": 2, "email": "admin@example.com" }
                ]
              }
            }
          }
        }
      }
    }
  }
}
```
